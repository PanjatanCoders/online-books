<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Master StringBuilder and StringBuffer in Java for efficient string manipulation, performance optimization, and thread-safe operations.">
    <title>Java Strings Part 2: StringBuilder & StringBuffer - GyanCode</title>

    <link rel="icon" type="image/png" href="/assets/images/logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/pages.css">
</head>

<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <aside class="sidebar" id="sidebar"></aside>
    <div class="sidebar-overlay"></div>

    <main class="page-content" id="main-content">
        <div class="reading-progress" id="reading-progress"></div>
        <div class="content-wrapper">
            <nav class="breadcrumb" id="breadcrumb"></nav>

            <article class="article-container">
                <header class="article-header">
                    <h1 class="article-title">Java Strings Guide - Part 2</h1>
                    <p class="article-subtitle">StringBuilder, StringBuffer, and efficient string manipulation</p>
                    <div class="article-meta">
                        <span><i class="fas fa-clock"></i> 20 min read</span>
                        <span><i class="fas fa-signal"></i> Intermediate</span>
                    </div>
                </header>

                <nav class="toc" id="toc"></nav>

                <div class="article-body">
                    <!-- Series Overview -->
                    <div class="info-box">
                        <h4><i class="fas fa-book-open"></i> Complete Series Overview</h4>
                        <p><strong>Part 1A:</strong> String Fundamentals & Creation<br>
                           <strong>Part 1B:</strong> String Methods & Comparison<br>
                           <strong>Part 1C:</strong> Common Pitfalls & Best Practices<br>
                           <strong>Part 2:</strong> StringBuilder & StringBuffer (Current)<br>
                           <strong>Part 3:</strong> Regular Expressions</p>
                    </div>

                    <!-- Chapter 1: Introduction -->
                    <section id="introduction" class="chapter">
                        <h2 class="chapter-title">1. Introduction to Mutable Strings</h2>
                        <div class="chapter-content">
                            <p>While String objects are immutable, Java provides StringBuilder and StringBuffer for efficient string manipulation when you need to modify text content frequently.</p>

                            <div class="highlight-box">
                                <h4><i class="fas fa-key"></i> Why Mutable String Classes?</h4>
                                <ul>
                                    <li><strong>Performance:</strong> Avoid creating multiple temporary String objects</li>
                                    <li><strong>Memory Efficiency:</strong> Reduce garbage collection pressure</li>
                                    <li><strong>Flexibility:</strong> Enable efficient insertion, deletion, and modification</li>
                                    <li><strong>Scalability:</strong> Handle large text processing operations</li>
                                </ul>
                            </div>

                            <div class="feature-grid">
                                <div class="card" style="border-left: 4px solid #FF6B6B;">
                                    <h4>String</h4>
                                    <p>Immutable, Thread-safe, Simple usage</p>
                                </div>
                                <div class="card" style="border-left: 4px solid #4ECDC4;">
                                    <h4>StringBuilder</h4>
                                    <p>Mutable, Not thread-safe, High performance</p>
                                </div>
                                <div class="card" style="border-left: 4px solid #45B7D1;">
                                    <h4>StringBuffer</h4>
                                    <p>Mutable, Thread-safe, Synchronized</p>
                                </div>
                            </div>

                            <div class="code-block">
                                <div class="code-header"><span><i class="fab fa-java"></i> Problem: Inefficient String Concatenation</span></div>
                                <pre><code><span class="comment">// INEFFICIENT: Creates many temporary String objects</span>
<span class="keyword">String</span> result = <span class="string">""</span>;
<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) {
    result += <span class="string">"Item "</span> + i + <span class="string">"; "</span>;  <span class="comment">// 3000+ objects created!</span>
}

<span class="comment">// EFFICIENT: StringBuilder approach</span>
<span class="keyword">StringBuilder</span> sb = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>();
<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) {
    sb.append(<span class="string">"Item "</span>).append(i).append(<span class="string">"; "</span>);  <span class="comment">// Modifies same object</span>
}
<span class="keyword">String</span> result = sb.toString();</code></pre>
                            </div>
                        </div>
                    </section>

                    <!-- Chapter 2: StringBuilder Basics -->
                    <section id="stringbuilder-basics" class="chapter">
                        <h2 class="chapter-title">2. StringBuilder Fundamentals</h2>
                        <div class="chapter-content">
                            <p>StringBuilder provides a mutable sequence of characters with methods for efficient text manipulation.</p>

                            <h4>Creating StringBuilder Objects</h4>
                            <div class="code-block">
                                <div class="code-header"><span><i class="fab fa-java"></i> StringBuilder Creation</span></div>
                                <pre><code><span class="comment">// Default constructor (16 character capacity)</span>
<span class="keyword">StringBuilder</span> sb1 = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>();

<span class="comment">// With initial capacity</span>
<span class="keyword">StringBuilder</span> sb2 = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>(<span class="number">100</span>);

<span class="comment">// With initial content</span>
<span class="keyword">StringBuilder</span> sb3 = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>(<span class="string">"Initial content"</span>);

<span class="comment">// From another sequence</span>
<span class="keyword">StringBuilder</span> sb4 = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>(sb3);

<span class="comment">// Check properties</span>
System.out.println(<span class="string">"Length: "</span> + sb3.length());     <span class="comment">// Current content length</span>
System.out.println(<span class="string">"Capacity: "</span> + sb3.capacity()); <span class="comment">// Available space</span></code></pre>
                            </div>

                            <h4>Basic StringBuilder Operations</h4>
                            <div class="code-block">
                                <div class="code-header"><span><i class="fab fa-java"></i> Core StringBuilder Methods</span></div>
                                <pre><code><span class="keyword">StringBuilder</span> sb = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>();

<span class="comment">// Appending content</span>
sb.append(<span class="string">"Hello"</span>);              <span class="comment">// "Hello"</span>
sb.append(<span class="string">' '</span>);                 <span class="comment">// "Hello "</span>
sb.append(<span class="string">"World"</span>);             <span class="comment">// "Hello World"</span>
sb.append(<span class="number">123</span>);                 <span class="comment">// "Hello World123"</span>
sb.append(<span class="number">45.67</span>);               <span class="comment">// "Hello World12345.67"</span>

<span class="comment">// Method chaining for fluent API</span>
<span class="keyword">StringBuilder</span> chain = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>()
    .append(<span class="string">"Java"</span>)
    .append(<span class="string">" is"</span>)
    .append(<span class="string">" awesome"</span>);

<span class="comment">// Insertion at specific position</span>
<span class="keyword">StringBuilder</span> text = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>(<span class="string">"Hello World"</span>);
text.insert(<span class="number">5</span>, <span class="string">","</span>);           <span class="comment">// "Hello, World"</span>
text.insert(<span class="number">0</span>, <span class="string">"Hi! "</span>);        <span class="comment">// "Hi! Hello, World"</span>

<span class="comment">// Getting the final string</span>
<span class="keyword">String</span> result = text.toString(); <span class="comment">// Convert to immutable String</span></code></pre>
                            </div>

                            <h4>StringBuilder Modification Methods</h4>
                            <div class="code-block">
                                <div class="code-header"><span><i class="fab fa-java"></i> Modifying StringBuilder Content</span></div>
                                <pre><code><span class="keyword">StringBuilder</span> sb = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>(<span class="string">"Hello World Programming"</span>);

<span class="comment">// Deletion operations</span>
sb.delete(<span class="number">5</span>, <span class="number">11</span>);             <span class="comment">// "Hello Programming" (delete " World")</span>
sb.deleteCharAt(<span class="number">5</span>);             <span class="comment">// "HelloProgramming" (delete space)</span>

<span class="comment">// Replacement operations</span>
<span class="keyword">StringBuilder</span> text = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>(<span class="string">"Java Programming"</span>);
text.replace(<span class="number">0</span>, <span class="number">4</span>, <span class="string">"Python"</span>);   <span class="comment">// "Python Programming"</span>

<span class="comment">// Character manipulation</span>
text.setCharAt(<span class="number">0</span>, <span class="string">'p'</span>);          <span class="comment">// "python Programming"</span>
<span class="keyword">char</span> firstChar = text.charAt(<span class="number">0</span>);   <span class="comment">// 'p'</span>

<span class="comment">// String reversal</span>
<span class="keyword">StringBuilder</span> reversed = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>(<span class="string">"Hello"</span>);
reversed.reverse();                 <span class="comment">// "olleH"</span>

<span class="comment">// Length manipulation</span>
sb.setLength(<span class="number">5</span>);                 <span class="comment">// Truncate to 5 characters</span>
sb.setLength(<span class="number">10</span>);                <span class="comment">// Extend with null characters</span></code></pre>
                            </div>
                        </div>
                    </section>

                    <!-- Chapter 3: StringBuffer -->
                    <section id="stringbuffer" class="chapter">
                        <h2 class="chapter-title">3. StringBuffer and Thread Safety</h2>
                        <div class="chapter-content">
                            <p>StringBuffer provides the same functionality as StringBuilder but with synchronized methods for thread-safe operations.</p>

                            <div class="highlight-box">
                                <h4><i class="fas fa-shield-alt"></i> StringBuffer Characteristics</h4>
                                <ul>
                                    <li><strong>Thread-Safe:</strong> All methods are synchronized</li>
                                    <li><strong>Legacy Class:</strong> Predates StringBuilder (Java 1.0)</li>
                                    <li><strong>Performance Cost:</strong> Synchronization overhead in single-threaded scenarios</li>
                                    <li><strong>API Identical:</strong> Same methods as StringBuilder</li>
                                </ul>
                            </div>

                            <div class="code-block">
                                <div class="code-header"><span><i class="fab fa-java"></i> StringBuffer Usage</span></div>
                                <pre><code><span class="comment">// StringBuffer creation (same as StringBuilder)</span>
<span class="keyword">StringBuffer</span> buffer = <span class="keyword">new</span> <span class="keyword">StringBuffer</span>();
<span class="keyword">StringBuffer</span> buffer2 = <span class="keyword">new</span> <span class="keyword">StringBuffer</span>(<span class="number">50</span>);
<span class="keyword">StringBuffer</span> buffer3 = <span class="keyword">new</span> <span class="keyword">StringBuffer</span>(<span class="string">"Initial"</span>);

<span class="comment">// All methods are synchronized (thread-safe)</span>
buffer.append(<span class="string">"Thread-safe"</span>);
buffer.append(<span class="string">" operations"</span>);
buffer.insert(<span class="number">0</span>, <span class="string">"Safe: "</span>);

<span class="comment">// Thread-safe example</span>
<span class="keyword">public class</span> ThreadSafeLogger {
    <span class="keyword">private</span> <span class="keyword">StringBuffer</span> logBuffer = <span class="keyword">new</span> <span class="keyword">StringBuffer</span>();

    <span class="keyword">public</span> <span class="keyword">void</span> log(<span class="keyword">String</span> message) {
        <span class="comment">// Safe for concurrent access</span>
        logBuffer.append(<span class="keyword">new</span> Date())
                 .append(<span class="string">": "</span>)
                 .append(message)
                 .append(<span class="string">"\n"</span>);
    }

    <span class="keyword">public</span> <span class="keyword">String</span> getLog() {
        <span class="keyword">return</span> logBuffer.toString();
    }
}</code></pre>
                            </div>

                            <div class="info-box">
                                <h4><i class="fas fa-info-circle"></i> Recommendation</h4>
                                <p>Use <strong>StringBuilder</strong> for most scenarios. Only use StringBuffer when you specifically need built-in thread safety and cannot use external synchronization.</p>
                            </div>
                        </div>
                    </section>

                    <!-- Chapter 4: Performance -->
                    <section id="performance" class="chapter">
                        <h2 class="chapter-title">4. Performance Analysis</h2>
                        <div class="chapter-content">
                            <p>Understanding the performance characteristics of different string building approaches helps you make informed decisions.</p>

                            <h4>Performance Comparison</h4>
                            <div class="code-block">
                                <div class="code-header"><span><i class="fas fa-stopwatch"></i> Benchmarking String Operations</span></div>
                                <pre><code><span class="keyword">public class</span> StringPerformanceTest {

    <span class="keyword">public static void</span> main(<span class="keyword">String</span>[] args) {
        <span class="keyword">int</span> iterations = <span class="number">10000</span>;

        <span class="comment">// Test 1: String concatenation (SLOW)</span>
        <span class="keyword">long</span> start = System.nanoTime();
        <span class="keyword">String</span> str = <span class="string">""</span>;
        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; iterations; i++) {
            str += <span class="string">"x"</span>; <span class="comment">// O(n²) complexity</span>
        }
        <span class="keyword">long</span> stringTime = System.nanoTime() - start;

        <span class="comment">// Test 2: StringBuilder (FAST)</span>
        start = System.nanoTime();
        <span class="keyword">StringBuilder</span> sb = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>();
        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; iterations; i++) {
            sb.append(<span class="string">"x"</span>); <span class="comment">// O(n) complexity</span>
        }
        <span class="keyword">String</span> sbResult = sb.toString();
        <span class="keyword">long</span> sbTime = System.nanoTime() - start;

        <span class="comment">// Test 3: StringBuffer (SLOWER due to synchronization)</span>
        start = System.nanoTime();
        <span class="keyword">StringBuffer</span> buff = <span class="keyword">new</span> <span class="keyword">StringBuffer</span>();
        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; iterations; i++) {
            buff.append(<span class="string">"x"</span>); <span class="comment">// O(n) but synchronized</span>
        }
        <span class="keyword">String</span> buffResult = buff.toString();
        <span class="keyword">long</span> buffTime = System.nanoTime() - start;

        System.out.printf(<span class="string">"String concat: %d ms%n"</span>, stringTime / <span class="number">1_000_000</span>);
        System.out.printf(<span class="string">"StringBuilder: %d ms%n"</span>, sbTime / <span class="number">1_000_000</span>);
        System.out.printf(<span class="string">"StringBuffer:  %d ms%n"</span>, buffTime / <span class="number">1_000_000</span>);
    }
}</code></pre>
                            </div>

                            <div class="highlight-box">
                                <h4><i class="fas fa-chart-line"></i> Performance Summary</h4>
                                <p><strong>String Concatenation:</strong> O(n²) complexity, many temporary objects<br>
                                   <strong>StringBuilder:</strong> O(n) complexity, single mutable object<br>
                                   <strong>StringBuffer:</strong> O(n) complexity with synchronization overhead</p>
                            </div>
                        </div>
                    </section>

                    <!-- Chapter 5: Advanced Usage -->
                    <section id="advanced-usage" class="chapter">
                        <h2 class="chapter-title">5. Advanced Usage Patterns</h2>
                        <div class="chapter-content">
                            <p>Advanced techniques for leveraging StringBuilder and StringBuffer in complex scenarios.</p>

                            <h4>Builder Pattern Implementation</h4>
                            <div class="code-block">
                                <div class="code-header"><span><i class="fas fa-hammer"></i> Custom Builder with StringBuilder</span></div>
                                <pre><code><span class="keyword">public class</span> SqlQueryBuilder {
    <span class="keyword">private final</span> <span class="keyword">StringBuilder</span> query;

    <span class="keyword">public</span> SqlQueryBuilder() {
        <span class="keyword">this</span>.query = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>();
    }

    <span class="keyword">public</span> SqlQueryBuilder select(<span class="keyword">String</span>... columns) {
        query.append(<span class="string">"SELECT "</span>);
        query.append(<span class="keyword">String</span>.join(<span class="string">", "</span>, columns));
        <span class="keyword">return</span> <span class="keyword">this</span>;
    }

    <span class="keyword">public</span> SqlQueryBuilder from(<span class="keyword">String</span> table) {
        query.append(<span class="string">" FROM "</span>).append(table);
        <span class="keyword">return</span> <span class="keyword">this</span>;
    }

    <span class="keyword">public</span> SqlQueryBuilder where(<span class="keyword">String</span> condition) {
        query.append(<span class="string">" WHERE "</span>).append(condition);
        <span class="keyword">return</span> <span class="keyword">this</span>;
    }

    <span class="keyword">public</span> <span class="keyword">String</span> build() {
        <span class="keyword">return</span> query.toString();
    }
}

<span class="comment">// Usage example</span>
<span class="keyword">String</span> sql = <span class="keyword">new</span> SqlQueryBuilder()
    .select(<span class="string">"id"</span>, <span class="string">"name"</span>, <span class="string">"email"</span>)
    .from(<span class="string">"users"</span>)
    .where(<span class="string">"active = 1"</span>)
    .build();</code></pre>
                            </div>
                        </div>
                    </section>

                    <!-- Chapter 6: Best Practices -->
                    <section id="best-practices" class="chapter">
                        <h2 class="chapter-title">6. Best Practices & Guidelines</h2>
                        <div class="chapter-content">
                            <p>Follow these guidelines to use StringBuilder and StringBuffer effectively in your applications.</p>

                            <div class="two-column-grid">
                                <div class="info-box success">
                                    <h4><i class="fas fa-check-circle"></i> Do</h4>
                                    <ul>
                                        <li>Pre-size when possible</li>
                                        <li>Use for 3+ concatenations</li>
                                        <li>Prefer StringBuilder over StringBuffer</li>
                                        <li>Use String.join() for simple cases</li>
                                        <li>Reuse instances when appropriate</li>
                                    </ul>
                                </div>
                                <div class="info-box warning">
                                    <h4><i class="fas fa-times-circle"></i> Avoid</h4>
                                    <ul>
                                        <li>toString() in loops</li>
                                        <li>Excessive capacity allocation</li>
                                        <li>Thread safety assumptions with StringBuilder</li>
                                        <li>Ignoring simpler alternatives</li>
                                        <li>Unnecessary synchronization</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="code-block">
                                <div class="code-header"><span><i class="fas fa-star"></i> Best Practice Examples</span></div>
                                <pre><code><span class="comment">// GOOD: Pre-sized StringBuilder</span>
<span class="keyword">public static</span> <span class="keyword">String</span> buildCsvRow(<span class="keyword">String</span>[] values) {
    <span class="keyword">int</span> estimatedSize = values.length * <span class="number">20</span>;
    <span class="keyword">StringBuilder</span> csv = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>(estimatedSize);

    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i++) {
        <span class="keyword">if</span> (i &gt; <span class="number">0</span>) csv.append(<span class="string">","</span>);
        csv.append(values[i]);
    }

    <span class="keyword">return</span> csv.toString();
}

<span class="comment">// GOOD: Reusable StringBuilder</span>
<span class="keyword">public class</span> LogFormatter {
    <span class="keyword">private final</span> <span class="keyword">StringBuilder</span> reusableBuilder = <span class="keyword">new</span> <span class="keyword">StringBuilder</span>(<span class="number">256</span>);

    <span class="keyword">public</span> <span class="keyword">String</span> formatLogEntry(<span class="keyword">String</span> level, <span class="keyword">String</span> message) {
        reusableBuilder.setLength(<span class="number">0</span>); <span class="comment">// Clear previous content</span>

        reusableBuilder.append(<span class="string">"["</span>)
                       .append(<span class="keyword">new</span> Date())
                       .append(<span class="string">"] "</span>)
                       .append(level)
                       .append(<span class="string">": "</span>)
                       .append(message);

        <span class="keyword">return</span> reusableBuilder.toString();
    }
}</code></pre>
                            </div>
                        </div>
                    </section>

                    <!-- Summary Section -->
                    <section id="summary" class="chapter">
                        <h2 class="chapter-title">Part 2 Summary</h2>
                        <div class="chapter-content">
                            <p>Part 2 covered the essential mutable string classes that enable efficient string manipulation in Java applications.</p>

                            <div class="highlight-box">
                                <h4><i class="fas fa-graduation-cap"></i> Key Takeaways</h4>
                                <ul>
                                    <li><strong>StringBuilder:</strong> Use for efficient string building in single-threaded scenarios</li>
                                    <li><strong>StringBuffer:</strong> Use only when you need built-in thread safety</li>
                                    <li><strong>Performance:</strong> StringBuilder is 100x+ faster than String concatenation in loops</li>
                                    <li><strong>Capacity Management:</strong> Pre-size when possible to avoid resizing overhead</li>
                                    <li><strong>Modern Alternatives:</strong> Consider String.join() for simple cases</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <h4><i class="fas fa-forward"></i> Coming Next: Part 3</h4>
                                <p><strong>Part 3: Regular Expressions</strong></p>
                                <ul>
                                    <li>Pattern matching fundamentals and syntax</li>
                                    <li>Advanced regex features (groups, lookarounds)</li>
                                    <li>Text validation and data extraction</li>
                                    <li>Performance optimization</li>
                                </ul>
                            </div>
                        </div>
                    </section>
                </div>

                <footer class="article-nav">
                    <a href="java-string-3.html" class="nav-prev">
                        <i class="fas fa-arrow-left"></i>
                        <span>Part 1C: Best Practices</span>
                    </a>
                    <a href="java-regular-expresions.html" class="nav-next">
                        <span>Part 3: Regular Expressions</span>
                        <i class="fas fa-arrow-right"></i>
                    </a>
                </footer>
            </article>
        </div>
    </main>

    <footer class="site-footer" id="site-footer"></footer>
    <button class="back-to-top" id="back-to-top" type="button" aria-label="Back to top">
        <i class="fas fa-chevron-up"></i>
    </button>

    <script src="/js/navigation-data.js"></script>
    <script src="/js/components.js"></script>
</body>

</html>
